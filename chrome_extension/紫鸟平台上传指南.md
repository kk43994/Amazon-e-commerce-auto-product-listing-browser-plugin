# 紫鸟开放平台插件上传指南

## 📋 版本信息
- **插件名称**: 亚马逊商品快速上传助手
- **当前版本**: 3.0.2
- **更新日期**: 2024-11-26

## 🚀 上传前准备

### 1. 确认文件完整性

确保以下文件都存在且已更新：

```
chrome_extension/
├── manifest.json (版本号: 3.0.2)
├── popup.html
├── popup.js (已集成日志系统)
├── logger.js (新增 - 日志系统)
├── content.js
├── background.js
├── page-analyzer.js
├── page-detector.js
├── amazon-navigator.js
├── amazon-form-filler.js
├── learning-mode.js
├── libs/
│   └── xlsx.full.min.js
└── icons/
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

### 2. 检查版本号

确认 `manifest.json` 中的版本号已更新：
```json
{
  "version": "3.0.2"
}
```

### 3. 测试插件功能

在本地Chrome浏览器测试：
1. 打开 `chrome://extensions/`
2. 开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `chrome_extension` 文件夹
5. 测试所有核心功能

## 📦 打包插件

### 方法1：使用Chrome浏览器打包

1. 打开 `chrome://extensions/`
2. 点击"打包扩展程序"
3. 扩展程序根目录：选择 `chrome_extension` 文件夹
4. 私有密钥文件：首次打包留空（之后使用生成的.pem文件）
5. 点击"打包扩展程序"
6. 生成 `chrome_extension.crx` 文件

### 方法2：创建ZIP文件

```bash
# 进入chrome_extension目录
cd chrome_extension

# 创建ZIP文件（Windows）
tar -a -c -f amazon-uploader-v3.0.2.zip *

# 或使用7-Zip
7z a amazon-uploader-v3.0.2.zip *
```

## 🔼 上传到紫鸟开放平台

### 步骤1：登录开放平台
1. 访问紫鸟开放平台：https://open.ziniao.com
2. 使用开发者账号登录

### 步骤2：进入插件管理
1. 点击"开发者中心"
2. 选择"RPA插件管理"
3. 找到"亚马逊商品快速上传助手"

### 步骤3：更新插件
1. 点击"更新版本"
2. 上传文件：选择 `amazon-uploader-v3.0.2.zip`
3. 填写版本信息：
   - 版本号：3.0.2
   - 更新类型：功能优化
   - 更新说明：

```
【重要更新】专业日志系统集成

新增功能：
1. 专业日志系统，记录每一步操作
2. 操作追踪和性能监控
3. 错误详细记录和分析
4. 日志自动保存和导出

优化改进：
1. 增强调试能力
2. 提升代码质量
3. 优化错误处理

技术细节：
- 多级日志记录（DEBUG/INFO/WARN/ERROR）
- 操作时间追踪
- 性能数据统计
- 日志持久化存储
```

### 步骤4：测试验证
1. 选择测试环境
2. 配置测试店铺
3. 运行测试用例
4. 验证日志系统功能

### 步骤5：提交审核
1. 确认所有信息无误
2. 点击"提交审核"
3. 等待平台审核（通常1-2个工作日）

## ✅ 上传后验证

### 1. 功能测试清单

- [ ] Excel文件上传功能
- [ ] 商品数据解析
- [ ] 页面自动检测
- [ ] 表单自动填充
- [ ] 批量处理功能
- [ ] 日志记录功能（新）
- [ ] 操作追踪功能（新）
- [ ] 错误处理机制

### 2. 日志系统验证

在浏览器控制台执行：
```javascript
// 查看日志统计
logger.getStats()

// 导出日志
logger.exportLogs()

// 查看最近操作
logger.operation_history
```

### 3. 性能验证

- 插件加载时间 < 2秒
- Excel处理速度正常
- 日志不影响性能
- 内存使用合理

## 📊 发布后监控

### 1. 用户反馈收集
- 监控用户评价
- 收集错误报告
- 记录功能建议

### 2. 性能数据分析
- 插件使用率
- 功能使用频率
- 错误发生率
- 平均处理时间

### 3. 日志数据分析
- 常见错误类型
- 操作成功率
- 性能瓶颈分析
- 用户行为模式

## 🔧 常见问题

### Q1: 上传失败怎么办？
- 检查ZIP文件是否损坏
- 确认文件大小 < 10MB
- 验证manifest.json格式

### Q2: 审核不通过怎么办？
- 查看审核反馈详情
- 修复指出的问题
- 重新提交审核

### Q3: 如何回滚版本？
- 在版本管理中选择历史版本
- 点击"回滚到此版本"
- 确认回滚操作

## 📞 技术支持

遇到问题请联系：
- 紫鸟开放平台技术支持
- 邮箱：support@ziniao.com
- 开发者QQ群：[群号]

## 📝 更新记录

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| 3.0.2 | 2024-11-26 | 集成专业日志系统 |
| 3.0.1 | 2024-11-24 | 修复已知问题 |
| 3.0.0 | 2024-11-20 | 重大版本更新 |

---

**最后更新**: 2024-11-26
**维护者**: KK亚马逊电商自动化团队